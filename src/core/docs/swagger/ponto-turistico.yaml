tags:
  - name: Pontos Turísticos
    description: Operações de pontos turísticos

paths:
  /pontos-turisticos:
    get:
      tags: [Pontos Turísticos]
      summary: Listar pontos turísticos
      parameters:
        - in: query
          name: page
          schema: { type: integer, example: 1 }
        - in: query
          name: limit
          schema: { type: integer, example: 10 }
        - in: query
          name: nome
          schema: { type: string }
        - in: query
          name: cidade
          schema: { type: string }
        - in: query
          name: estado
          schema: { type: string }
        - in: query
          name: ativo
          schema: { type: boolean }
        - in: query
          name: sortBy
          schema: { type: string, example: createdAt }
        - in: query
          name: sortDir
          schema: { type: string, enum: [asc, desc], example: desc }
      responses:
        "200":
          description: Lista paginada
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PontoTuristicoPagedResponse"

    post:
      tags: [Pontos Turísticos]
      summary: Criar ponto turístico
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreatePontoTuristicoInput"
      responses:
        "201":
          description: Criado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PontoTuristicoResponse"

  /pontos-turisticos/{id}:
    get:
      tags: [Pontos Turísticos]
      summary: Buscar por id
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: integer }
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PontoTuristicoResponse"

    put:
      tags: [Pontos Turísticos]
      summary: Atualizar ponto turístico
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: integer }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdatePontoTuristicoInput"
      responses:
        "200":
          description: Atualizado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PontoTuristicoResponse"

    delete:
      tags: [Pontos Turísticos]
      summary: Deletar ponto turístico
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: integer }
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      deleted: { type: boolean, example: true }

  /cidades/{cidadeId}/pontos-turisticos:
    get:
      tags: [Pontos Turísticos]
      summary: Listar pontos turísticos por cidadeId
      parameters:
        - in: path
          name: cidadeId
          required: true
          schema: { type: integer }
        - in: query
          name: page
          schema: { type: integer, example: 1 }
        - in: query
          name: limit
          schema: { type: integer, example: 10 }
        - in: query
          name: sortBy
          schema: { type: string, example: createdAt }
        - in: query
          name: sortDir
          schema: { type: string, enum: [asc, desc], example: desc }
      responses:
        "200":
          description: Lista paginada por cidade
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PontoTuristicoPagedResponse"

components:
  schemas:
    PontoTuristico:
      type: object
      properties:
        id: { type: integer, example: 1 }
        nome: { type: string, example: "Parque das Nações" }
        tipo: { type: string, example: "Parque" }
        horario: { type: string, example: "08:00-18:00" }
        img: { type: string, example: "https://..." }
        desc: { type: string, example: "Um lugar incrível..." }
        cidadeId: { type: integer, example: 10 }
        createdAt: { type: string, example: "2026-02-25T12:00:00Z" }
        updatedAt: { type: string, example: "2026-02-25T12:00:00Z" }

    CreatePontoTuristicoInput:
      type: object
      required: [nome, tipo, horario, cidadeId]
      properties:
        nome: { type: string }
        tipo: { type: string }
        horario: { type: string }
        img: { type: string, nullable: true }
        desc: { type: string, nullable: true }
        cidadeId: { type: integer }
        ativo: { type: boolean, example: true }

    UpdatePontoTuristicoInput:
      type: object
      properties:
        nome: { type: string }
        tipo: { type: string }
        horario: { type: string }
        img: { type: string, nullable: true }
        desc: { type: string, nullable: true }
        ativo: { type: boolean }

    PontoTuristicoResponse:
      type: object
      properties:
        data:
          type: object
          properties:
            item:
              $ref: "#/components/schemas/PontoTuristico"
        links:
          type: object
        meta:
          type: object

    PontoTuristicoPagedResponse:
      type: object
      properties:
        data:
          type: object
          properties:
            items:
              type: array
              items:
                $ref: "#/components/schemas/PontoTuristico"
            page: { type: integer }
            limit: { type: integer }
            total: { type: integer }
            totalPages: { type: integer }
            sort:
              type: object
              properties:
                sortBy: { type: string }
                sortDir: { type: string }
        links:
          type: object
        meta:
          type: object
