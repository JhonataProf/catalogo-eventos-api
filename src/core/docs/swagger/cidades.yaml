tags:
  - name: Cidades
    description: Endpoints relacionados a cidades

paths:
  /cidades/{id}:
    get:
      tags: [Cidades]
      summary: Buscar cidade por id
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: integer }
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CidadeResponse"

    delete:
      tags: [Cidades]
      summary: Deletar cidade
      parameters:
        - in: path
          name: id
          required: true
          schema: { type: integer }
      responses:
        "204":
          description: No Content
  /cidades:
    post:
      tags: [Cidades]
      summary: Criar cidade
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateCidadeInput"
      responses:
        "201":
          description: Criado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CidadeResponse" 
      put:
        tags: [Cidades]
        summary: Atualizar cidade
        requestBody:
          required: true
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateCidadeInput"
        responses:
          "200":
            description: Atualizado
            content:
              application/json:
                schema:
                  $ref: "#/components/schemas/CidadeResponse"
components:
  schemas:
    CreateCidadeInput:
      type: object
      properties:
        nome:
          type: string
          example: "São Paulo"
        estado:
          type: string
          example: "SP"
      required:
        - nome
        - estado

    UpdateCidadeInput:
      type: object
      properties:
        id:
          type: integer
          example: 1
        nome:
          type: string
          example: "São Paulo"
        estado:
          type: string
          example: "SP"
      required:
        - id
        - nome
        - estado

    CidadeResponse:
      type: object
      properties:
        id:
          type: integer
          example: 1
        nome:
          type: string
          example: "São Paulo"
        estado:
          type: string
          example: "SP"